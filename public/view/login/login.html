<div class="container">
    <div class="row login">

        <div class="row">
            <form name="loginForm" class="col s12 m6 offset-m3">

                <div class="row">
                    <h3 class="grey darken-3 grey-text text-lighten-3">Login</h3>
                </div>

                <div class="row">
                    <div class="input-field col s12">
                        <input id="email_input" type="email" class="validate" ng-model="credenciais.email" name="email"
                               maxlength="255" required ng-model-options="{ updateOn: 'blur' }">
                        <label ng-class="{'active' : credenciais.email}" for="email_input">E-mail</label>
                    </div>

                    <div class="input-field col s12">
                        <input id="password_input" type="password" class="validate" ng-model="credenciais.senha"
                               name="senha" minlength="6" maxlength="32" required
                               ng-model-options="{ updateOn: 'blur' }">
                        <label ng-class="{'active' : credenciais.senha}" for="password_input">Senha</label>
                    </div>
                </div>

                <div class="row">
                    <div class="col s12 m6">
                        <p>
                            <input type="checkbox" name="lembrar" id="remember">
                            <label for="remember">Lembrar minha senha</label>
                        </p>
                    </div>
                    <div class="col s12 m6">
                        <a href="" ng-click="abrirModal('#esqueciSenhaModal')">
                            <p class="md-right-align">
                                Esqueci a senha
                            </p>
                        </a>
                    </div>
                </div>

                <div class="row">
                    <div class="error-message-div red lighten-4 col offset-m3 s12 m6"
                         ng-repeat="erro in loginForm.$error.required" ng-if="erro.$dirty">
                        <p class="error-message">{{messages('error', 4, [erro.$name])}}</p>
                    </div>
                    <div class="error-message-div red lighten-4 col s12">
                        <p class="error-message" ng-if="loginForm.senha.$dirty && loginForm.senha.$error.minlength">
                            {{messages('error', 5, ['senha', '6'])}}</p>
                        <p class="error-message" ng-if="loginForm.email.$error.email">
                            {{messages('error', 8)}}</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col s12 m6">
                        <button class="btn btn-block waves-effect waves-light blue" type="button" name="action"
                                ng-click="login(credenciais)">
                            Entrar
                        </button>
                    </div>
                    <div class="col s12 m6">
                        <a class="btn btn-block waves-effect waves-light blue"
                           href="#/usuarios/cadastrar">
                            Cadastre-se
                        </a>
                    </div>
                </div>

            </form>
        </div>
    </div>

    <div id="esqueciSenhaModal" class="modal">
        <form name="resetarSenhaForm">
            <div class="modal-content">

                <div class="row">
                    <h3 class="grey darken-3 grey-text text-lighten-3">Login</h3>
                </div>

                <div class="row">
                    <div class="input-field col s12">
                        <input id="email_resetar_input" type="email" class="validate" ng-model="credenciais.email">
                        <label ng-class="{'active' : credenciais.email}" for="email_resetar_input">Email</label>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <a href="" class="modal-action modal-close waves-effect waves-green btn-flat"
                   ng-click="fecharModalResetarSenha('#esqueciSenhaModal')">Cancelar</a>
                <a href="" class="modal-action modal-close waves-effect waves-green btn-flat"
                   ng-click="fecharModalResetarSenha('#esqueciSenhaModal', credenciais.email)">Resetar Senha</a>
            </div>
        </form>
    </div>

</div>